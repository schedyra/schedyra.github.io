<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>School Period Tracker (PST)</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">

<style>
  :root{
    --bg-1: #0b0202;
    --bg-2: #120406;
    --card: rgba(10,10,10,0.85);
    --accent-red: #ff3b30;
    --accent-red-600: #ff5c4b;
    --muted: #cbd5e1;
    --green: #34d399;
    --glass-border: rgba(255,60,60,0.08);
  }

  html,body{
    height:100%;
    margin:0;
    font-family: "Poppins", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    background: radial-gradient(800px 400px at 10% 10%, rgba(255,59,48,0.04), transparent 5%), linear-gradient(180deg,var(--bg-1),var(--bg-2));
    color: var(--muted);
    display:flex;
    align-items:center;
    justify-content:center;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
  }

  .panel {
    width:420px;
    max-width:94%;
    padding:28px 30px;
    border-radius:16px;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.55));
    border: 1px solid var(--glass-border);
    box-shadow: 0 20px 40px rgba(0,0,0,0.7), 0 2px 12px rgba(255,59,48,0.03) inset;
    backdrop-filter: blur(6px) saturate(120%);
  }

  h1 {
    margin:0 0 18px;
    font-size:20px;
    text-align:center;
    font-weight:700;
    letter-spacing:0.2px;
    background: linear-gradient(90deg, #fff 0%, var(--accent-red) 40%, #fff 100%);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
  }

  .block {
    display:flex;
    justify-content:space-between;
    align-items:center;
    padding:10px 14px;
    margin-bottom:12px;
    border-radius:10px;
    transition: all .18s ease;
  }

  .label {
    font-size:12px;
    color:#9aa9b8;
    font-weight:600;
  }

  .value {
    font-size:15px;
    font-weight:600;
    color:#fff;
    padding:6px 10px;
    border-radius:8px;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.015));
    border: 1px solid rgba(255,255,255,0.02);
    min-width:160px;
    text-align:right;
  }

  /* current and next accents */
  #current {
    box-shadow: 0 8px 30px rgba(255,59,48,0.06), 0 0 18px rgba(255,59,48,0.04) inset;
    border: 1px solid rgba(255,59,48,0.12);
    color: #fff;
  }

  #next {
    background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(0,0,0,0.35));
    color:#ffdede;
    border: 1px solid rgba(255,59,48,0.06);
    box-shadow: 0 6px 16px rgba(0,0,0,0.6);
  }

  .countdown {
    margin-top:18px;
    font-size:28px;
    text-align:center;
    letter-spacing:1px;
    font-family: "JetBrains Mono", ui-monospace, SFMono-Regular, Menlo, monospace;
    color: var(--green);
    padding:12px 16px;
    border-radius:12px;
    background: linear-gradient(180deg, rgba(52,211,153,0.06), rgba(0,0,0,0.25));
    border: 1px solid rgba(52,211,153,0.08);
    box-shadow: 0 10px 30px rgba(52,211,153,0.02), 0 2px 8px rgba(0,0,0,0.6) inset;
  }

  .sub {
    text-align:center;
    font-size:12px;
    color:#9aa9b8;
    margin-top:12px;
  }

  /* small responsive tweaks */
  @media (max-width:420px){
    .panel{ padding:20px; }
    .value { min-width:110px; font-size:14px; }
    .countdown { font-size:20px; padding:10px; }
  }
</style>
</head>

<body>
<div class="panel">
  <h1>School Schedule (PST)</h1>

  <div class="block">
    <div class="label">Current Time</div>
    <div class="value" id="time">--:--:--</div>
  </div>

  <div class="block">
    <div class="label">Current Period</div>
    <div class="value" id="current">N/A</div>
  </div>

  <div class="block">
    <div class="label">Next Period</div>
    <div class="value" id="next">N/A</div>
  </div>

  <div class="countdown" id="countdown">--:--:--</div>

  <div class="sub">Automatically adjusts for PST / PDT</div>
</div>

<script>
/* ================= SCHEDULE ================= */

const schedule = {
  1: [ // Monday
    ["Zero Period","07:30","08:20"],
    ["First Period","08:30","09:15"],
    ["Second Period","09:25","10:10"],
    ["Break","10:10","10:15"],
    ["Third Period","10:25","11:10"],
    ["Fourth Period","11:20","12:05"],
    ["Lunch","12:05","12:40"],
    ["Fifth Period","12:50","13:35"],
    ["Sixth Period","13:45","14:30"],
    ["Seventh Period","14:40","15:25"]
  ],
  2: [ // Tuesday
    ["Zero Period","07:30","08:20"],
    ["First Period","08:30","10:00"],
    ["Second Period","10:10","11:40"],
    ["Lunch","11:40","12:15"],
    ["Third Period","12:25","13:55"],
    ["Fourth Period","14:05","15:35"]
  ],
  3: [ // Wednesday
    ["Zero Period","07:30","08:20"],
    ["Fifth Period","08:30","10:00"],
    ["Sixth Period","10:10","11:40"],
    ["Lunch","11:40","12:15"],
    ["Seventh Period","12:25","13:55"],
    ["SMART Period","14:05","14:55"],
    ["Staff Meeting","15:05","16:00"]
  ],
  4: [ // Thursday
    ["Zero Period","07:30","08:20"],
    ["First Period","08:30","10:00"],
    ["Second Period","10:10","11:40"],
    ["Lunch","11:40","12:15"],
    ["Third Period","12:25","13:55"],
    ["Fourth Period","14:05","15:35"]
  ],
  5: [ // Friday
    ["Teacher Collaboration","08:00","08:50"],
    ["Fifth Period","09:00","10:30"],
    ["Sixth Period","10:40","12:10"],
    ["Lunch","12:10","12:45"],
    ["Seventh Period","12:55","14:25"],
    ["SMART Period","14:35","15:15"]
  ]
};

/* ================= TIME HELPERS ================= */

function getPST() {
  return new Date(
    new Date().toLocaleString("en-US", { timeZone: "America/Los_Angeles" })
  );
}

function makeTime(base, timeStr) {
  const [h,m] = timeStr.split(":").map(Number);
  const d = new Date(base);
  d.setHours(h, m, 0, 0);
  return d;
}

function formatCountdown(ms) {
  const s = Math.max(0, Math.floor(ms / 1000));
  const h = Math.floor(s / 3600);
  const m = Math.floor((s % 3600) / 60);
  const sec = s % 60;
  return `${String(h).padStart(2,"0")}:${String(m).padStart(2,"0")}:${String(sec).padStart(2,"0")}`;
}

/* ================= CORE LOGIC ================= */

function nextSchoolDay(day) {
  let d = day + 1;
  while (!schedule[d]) {
    d++;
    if (d > 7) d = 1;
  }
  return d;
}

function update() {
  const now = getPST();
  const day = now.getDay();
  const today = schedule[day];

  document.getElementById("time").textContent =
    now.toLocaleTimeString("en-US", { hour: "numeric", minute: "2-digit", second: "2-digit", hour12: true, timeZone: "America/Los_Angeles" });

  let current = "No Class";
  let next = "Zero Period";
  let countdown = "--:--:--";

  if (!today) {
    // Weekend
    const monday = 1;
    const zero = makeTime(now, schedule[monday][0][1]);
    zero.setDate(now.getDate() + ((8 - day) % 7));
    countdown = formatCountdown(zero - now);
  } else {
    let found = false;

    for (let i = 0; i < today.length; i++) {
      const [name,start,end] = today[i];
      const startTime = makeTime(now,start);
      const endTime = makeTime(now,end);

      if (now >= startTime && now < endTime) {
        current = name;
        if (today[i+1]) {
          next = today[i+1][0];
          countdown = formatCountdown(makeTime(now,today[i+1][1]) - now);
        } else {
          const nd = nextSchoolDay(day);
          const zero = makeTime(now, schedule[nd][0][1]);
          zero.setDate(now.getDate() + (nd - day));
          next = "Zero Period";
          countdown = formatCountdown(zero - now);
        }
        found = true;
        break;
      }

      if (now < startTime) {
        next = name;
        countdown = formatCountdown(startTime - now);
        found = true;
        break;
      }
    }

    if (!found) {
      const nd = nextSchoolDay(day);
      const zero = makeTime(now, schedule[nd][0][1]);
      zero.setDate(now.getDate() + (nd - day));
      countdown = formatCountdown(zero - now);
    }
  }

  document.getElementById("current").textContent = current;
  document.getElementById("next").textContent = next;
  document.getElementById("countdown").textContent = countdown;
}

setInterval(update, 1000);
update();
</script>
</body>
</html>